<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>ورقة واقعية</title>

<!-- مكتبة 3D FlipBook -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/3d-flip-book/css/3d-flip-book.min.css">
<script src="https://cdn.jsdelivr.net/npm/3d-flip-book/js/libs/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/3d-flip-book/js/3d-flip-book.min.js"></script>

<style>
html, body {
  margin: 0;
  padding: 0;
  background: #000;
  height: 100%;
  overflow: hidden;
  touch-action: none;
}
#container {
  width: 100vw;
  height: 100vh;
}
</style>
</head>
<body>

<div id="container"></div>

<script>
const book = {
  pages: [
    { src: "https://images.unsplash.com/photo-1478144592103-25e218a04891?auto=format&fit=crop&w=1600&q=80" },
    { src: "https://images.unsplash.com/photo-1510626176961-4b57d4fbad03?auto=format&fit=crop&w=1600&q=80" },
    { src: "https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=1600&q=80" }
  ]
};

const node = document.getElementById('container');
const flipbook = new St.PageFlip(node, {
  width: window.innerWidth,
  height: window.innerHeight,
  size: "stretch",
  showCover: false,
  mobileScrollSupport: false,
  maxShadowOpacity: 0.6,
  flippingTime: 900,
  usePortrait: true,
  disableFlipByClick: false,
});

book.pages.forEach((p) => {
  const page = document.createElement("div");
  page.classList.add("page");
  page.innerHTML = `<img src="${p.src}" style="width:100%;height:100%;object-fit:contain;">`;
  node.appendChild(page);
});

flipbook.loadFromHTML(node);

// عند الضغط أو السحب للقلب
document.body.addEventListener("pointerup", (e) => {
  if (e.clientX > window.innerWidth / 2) flipbook.flipNext();
  else flipbook.flipPrev();
});

window.addEventListener("resize", () => {
  flipbook.update();
});
</script>

</body>
</html>
